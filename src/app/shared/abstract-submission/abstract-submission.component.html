<div class="container mt-5" style="margin-bottom: 2%;">
  <form [formGroup]="abstractForm" (ngSubmit)="onSubmit()" class="needs-validation" novalidate>
    <div class="card shadow" style="width: 700px; margin: auto;">
      <div class="card-header bg-primary text-white" style="background-color: #27133c !important;">
        <h4 class="mb-0" style="color: #ffffff; font-weight: bold; text-align: center;">
          Submit Your Abstract
        </h4>
      </div>
      <div class="card-body">
        
        <!-- Title -->
        <div class="form-group mb-3">
          <label for="title" class="form-label">Title <span class="text-danger">*</span></label>
          <select class="form-select" id="title" formControlName="title" required>
            <option value="" disabled selected>Select Title</option>
            <option *ngFor="let title of titles" [value]="title">{{ title }}</option>
          </select>
          <div *ngIf="abstractForm.get('title').invalid && abstractForm.get('title').touched" class="text-danger">
            Title is required.
          </div>
        </div>

        <!-- Full Name -->
        <div class="form-group mb-3">
          <label for="fullName" class="form-label">Full Name <span class="text-danger">*</span></label>
          <input type="text" class="form-control" id="fullName" formControlName="fullName" required />
          <div *ngIf="abstractForm.get('fullName').invalid && abstractForm.get('fullName').touched" class="text-danger">
            Full Name is required.
          </div>
        </div>

        <!-- Email and Phone -->
        <div class="row">
          <div class="col-md-6">
            <div class="form-group mb-3">
              <label for="email" class="form-label">Email <span class="text-danger">*</span></label>
              <input type="email" class="form-control" id="email" formControlName="email" required />
              <div *ngIf="abstractForm.get('email').invalid && abstractForm.get('email').touched" class="text-danger">
                Valid email is required.
              </div>
            </div>
          </div>
          
          <div class="col-md-6">
            <div class="form-group mb-3">
              <label for="phone" class="form-label">Phone <span class="text-danger">*</span></label>
              <input type="text" class="form-control" id="phone" formControlName="phone" (keypress)="onlyNumberKey($event)" required />
              <div *ngIf="abstractForm.get('phone').invalid && abstractForm.get('phone').touched" class="text-danger">
                Phone number must be 10 digits.
              </div>
            </div>
          </div>
        </div>

        <!-- Country -->
        <div class="form-group mb-3">
          <label for="country" class="form-label">Country <span class="text-danger">*</span></label>
          <select class="form-select" id="country" formControlName="country" required>
            <option value="" disabled selected>Select Country</option>
            <option *ngFor="let country of countries" [value]="country">{{ country }}</option>
          </select>
          <div *ngIf="abstractForm.get('country').invalid && abstractForm.get('country').touched" class="text-danger">
            Country is required.
          </div>
        </div>

        <!-- Authors Affiliation -->
        <div class="form-group mb-3">
          <label for="authorsAffiliation" class="form-label">Authors Affiliation</label>
          <input type="text" class="form-control" id="authorsAffiliation" formControlName="authorsAffiliation" />
        </div>

        <!-- Contact Address -->
        <div class="form-group mb-3">
          <label for="contactAddress" class="form-label">Contact Address <span class="text-danger">*</span></label>
          <textarea class="form-control" id="contactAddress" formControlName="contactAddress" rows="3" required></textarea>
          <div *ngIf="abstractForm.get('contactAddress').invalid && abstractForm.get('contactAddress').touched" class="text-danger">
            Contact Address is required.
          </div>
        </div>

        <!-- Abstract Category -->
        <div class="form-group mb-3">
          <label for="abstractCategory" class="form-label">Abstract Category <span class="text-danger">*</span></label>
          <select class="form-select" id="abstractCategory" formControlName="abstractCategory" required>
            <option value="" disabled selected>Select Abstract Category</option>
            <option *ngFor="let category of categories" [value]="category">{{ category }}</option>
          </select>
          <div *ngIf="abstractForm.get('abstractCategory').invalid && abstractForm.get('abstractCategory').touched" class="text-danger">
            Abstract Category is required.
          </div>
        </div>

        <!-- File Upload -->
        <div class="form-group mb-4">
          <label for="file" class="form-label">Choose a file (PDF, DOC, or DOCX) <span class="text-danger">*</span></label>
          <input type="file" class="form-control" id="file" (change)="onFileChange($event)" required />
          <div *ngIf="fileError" class="text-danger">Please select a valid file.</div>
        </div>

        <!-- Buttons -->
        <div class="d-flex justify-content-between">
          <button type="submit" class="btn btn-primary" [disabled]="isSubmitting" style="background-color: #27133c;">Submit Abstract</button>
          <button type="button" class="btn btn-secondary" style="background-color: #ca2727;color: #ffffff; width: 8rem;" (click)="onReset()">Reset</button>
        </div>

      </div>
    </div>
  </form>
</div>
